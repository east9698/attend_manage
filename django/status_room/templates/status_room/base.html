{%load static%}
<!DOCTYPE html>
<html lang="ja" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <!-- disable caching with Ajax -->
    <meta http-equiv='cache-control' content='no-store'>
    <meta http-equiv='expires' content='0'>
    <meta http-equiv='pragma' content='no-cache'>
    <title>{{title}}|曽研究室利用管理システム</title>
    <link rel="shortcut icon" href="{% static 'status_room/img/fit_jc_banner.svg' %}">
    <link rel="stylesheet" href="{% static 'status_room/css/base.css' %}">
    {% block extra-css %}{% endblock %}
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script type="text/javascript" src="{% static 'status_room/js/status_available.js' %}"></script>
    <script type="text/javascript" src="{% static 'status_room/js/available_users.js' %}"></script>
  </head>
  <body>
    <header>
      <div class="container-fluid">
        <div class="row justify-content-between my-1 py-1">
          <div class="col-sm-7 col-md-6 col-lg-5">
            <span id="title">曽研究室利用管理システム</span>
          </div>
          <div class="col-sm-4 col-md-4 col-lg-3 text-right">
            <span id="username">{{username}}</span>
            <a href="{% url 'auth:logout' %}" class=""><button type="button" class="btn btn-primary btn-sm my-1"><img src="{% static 'status_room/img/lock.png' %}" alt="lock" height="30px"> ログアウト</button></a>
          </div>
        </div>
      </div>
    </header>
      <nav class="my-5">
        {% if my_stat is True %}
        <p class="text-center text-bold" id="status"><img src="{% static 'status_room/img/in-room.png' %}" alt="in-room" height="50px"> 入室済み</p>
        <div class="text-center">
          <div class="btn-group" role="group">
            <button type="submit" class="btn btn-md btn-success" name="enter" id="enter" disabled><img src="{% static 'status_room/img/enter.png' %}" alt="in-room" height="30px"> 在室登録</button>
            <button type="submit" class="btn btn-md btn-danger" name="exit"  id="exit"><img src="{% static 'status_room/img/leaving.png' %}" alt="in-room" height="30px"> 退室処理</button>
          </div>
        </div>
        {% elif my_stat is False %}
        <p class="text-center text-bold" id="status"><img src="{% static 'status_room/img/not-in-room.png' %}" alt="not-in-room" height="50px">未入室</p>
        <div class="text-center">
          <div class="btn-group mx-auto" role="group">
            <button type="submit" class="btn btn-md btn-success" name="enter" id="enter"><img src="{% static 'status_room/img/enter.png' %}" alt="enter" height="30px"> 在室登録</button>
            <button type="submit" class="btn btn-md btn-danger" name="exit" id="exit" disabled><img src="{% static 'status_room/img/leaving.png' %}" alt="leaving" height="30px"> 退室処理</button>
          </div>
        </div>
        {% else %}
        <p><span id="status">エラーが発生しました。</span> </p>
        {% endif %}
      </nav>
    <main>
      {% block contents %}{% endblock %}
    </main>
  </body>
</html>
